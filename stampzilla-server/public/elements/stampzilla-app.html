<link rel="import" href="/bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="/bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="/bower_components/core-animated-pages/transitions/slide-down.html">
<link rel="import" href="/bower_components/core-animated-pages/transitions/slide-up.html">
<link rel="import" href="/bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="/bower_components/font-roboto/roboto.html">
<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-scaffold/core-scaffold.html">
<link rel="import" href="/bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="/bower_components/core-menu/core-menu.html">
<link rel="import" href="/bower_components/core-item/core-item.html">
<link rel="import" href="/bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="/bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="/bower_components/core-menu/core-submenu.html">
<link rel="import" href="x-websocket.html">
<link rel="import" href="stampzilla-devices-menu.html">
<link rel="import" href="stampzilla-device.html">

<polymer-element name="stampzilla-app" >
	<template>
		<link rel="stylesheet" href="stampzilla-app.css">

		<x-websocket json="true" url="ws://{{ wsLocation }}/socket" message="{{websocketMessage}}" sendMessage="{{wsSend}}" ></x-websocket>
		<core-scaffold id="core_scaffold">
			<core-header-panel mode="seamed" id="core_header_panel" navigation flex>
				<core-toolbar id="core_toolbar">
					<paper-tabs class="bottom fit" selected="{{page}}">
						<paper-tab>Devices</paper-tab>
						<paper-tab>Rooms</paper-tab>
					</paper-tabs>
				</core-toolbar>
				<core-animated-pages transitions="slide-from-right" selected="{{page}}" selectedindex="0" >
					<section id="devices">
						<stampzilla-devices-menu devices="{{devices}}" selectedDevice="{{selectedDevice}}" websocketMessage="{{websocketMessage}}">
						</stampzilla-devices-menu>
					</section>
					<section id="rooms">
						<core-menu selected="Kitchen" valueattr="label" selectedindex="0" id="core_menu" theme="core-light-theme">
						  <core-item label="Kitchen" icon="settings" id="core_item" horizontal center layout active></core-item>
						  <core-item label="Livingroom" icon="settings" id="core_item1" horizontal center layout></core-item>
						</core-menu>
					</section>
				</core-animated-pages>
			</core-header-panel>
			<div id="div" tool>Stampzilla</div>

			<stampzilla-device wsSend="{{wsSend}}" devices="{{devices}}" selectedDevice={{selectedDevice}}></stampzilla-device>

		</core-scaffold>


  </template>
	<script>
		/* jshint newcap: false */
		/*global Polymer */

		(function() {
			"use strict";

			Polymer('stampzilla-app', {
				selected: 0,
				wsLocation: location.host,
				showmenu: 0,
				page:0,
				toggleMenu: function() {
					this.showmenu = (this.showmenu) ? 0:1;
				},
				ready: function(){

				}
			});

		})();
	</script>
</polymer-element>
