
<dom-module id="nodes-list">
	<template>
		<style>
			:host {
				display: block;
			}
		</style>
		<ul>
			<template is="dom-repeat" items="{{nodes}}">
				<li>
					<a href="{{_getHref(item.Uuid)}}">
						<span class="paper-font-body1">{{item.Name}}</span>
					</a>

					<span class="paper-font-body1">{{item.Host}}</span>
					<span class="paper-font-body1">{{item.LastSeen}}</span>
				</li>
			</template>
		</ul>
	</template>

	<script>
		(function () {
			Polymer({
				is: 'nodes-list',
				properties: {
					nodes: {
						type: Object,
						notify: true,
						observer: 'newMessage'
					}
				},
				//observers: [
				//	'nodesChanged(nodes.*)'
				//],
				_getHref: function(myAttrib) {
					return '/nodes/' + myAttrib;
				},
				newMessage: function(d) {
					console.log('new nodes',d);
				},
				//nodesChanged: function(d){
			//		console.log("nodes changed",d);
			//	},
				ready: function() {
					//var self = this;
					//NOTE we must use notifyPath(path, value) OR set(path, value) and we dont need custom observers. dom-repeat is happy just using set or notifyPath
					//setInterval(function(){self.set('nodes.0.Name', 'TESTAR');},3000);

				}
			});
		})();
	</script>

</dom-module>
