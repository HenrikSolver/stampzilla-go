package main

import "net"

func main() {
l, err := net.Listen("unix", "/tmp/echo.sock")
if err != nil {
println("listen error", err.String())
return
}

for {
fd, err := l.Accept()
if err != nil {
    println("accept error", err.String())
    return
}

go echoServer(fd)
}
}
